import{u as p,c as g}from"./vendor_tanstack-Croh7sPd.js";import{br as E}from"./vendor-BO8aFb6R.js";import{g as u,s as l}from"./vendor_antd-DBq17MzT.js";const h=(e,s)=>{if(e.response?.data){const r=e.response.data;if(r.detail)return Array.isArray(r.detail)?r.detail.map(t=>`${t.loc?.join(".")||"error"}: ${t.msg}`).join("; "):r.detail}return e.message||s("error")},$=({mutationFn:e,successMessage:s,errorMessage:r,invalidateQueryKeys:t=[],onSuccessCallback:c,onErrorCallback:f,useNotification:i=!1})=>{const m=p(),{t:d}=E();return g({mutationFn:e,onSuccess:a=>{s&&(i?u.success({message:s}):l.success(s)),t.length>0&&t.forEach(o=>{m.invalidateQueries({queryKey:o})}),c?.(a)},onError:a=>{const o=h(a,d),n=r||o;i?u.error({message:n}):l.error(n),f?.(a)}})};export{$ as u};
